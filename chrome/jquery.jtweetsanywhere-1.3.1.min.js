(function(){function o(o){o=o||window.event;var u=o.target||o.srcElement,a,f,l;while(u&&u.nodeName.toLowerCase()!=="a"){u=u.parentNode}if(u&&u.nodeName.toLowerCase()==="a"&&u.href){a=u.href.match(e);if(a){f=Math.round(s/2-n/2);l=0;if(i>r){l=Math.round(i/2-r/2)}window.open(u.href,"intent",t+",width="+n+",height="+r+",left="+f+",top="+l);o.returnValue=false;o.preventDefault&&o.preventDefault()}}}if(window.__twitterIntentHandler)return;chrome_getJSON=function(e,t){chrome.extension.sendRequest({action:"getJSON",url:e},t)};var e=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,t="scrollbars=yes,resizable=yes,toolbar=no,location=yes",n=550,r=420,i=screen.height,s=screen.width;if(document.addEventListener){document.addEventListener("click",o,false)}else if(document.attachEvent){document.attachEvent("onclick",o)}window.__twitterIntentHandler=true})();(function(){if(window.__JTA_I18N){return}JTA_I18N=function(){function t(e,t){function n(e,t,n){var s=r(e);if(t!==1&&typeof s==="object"){s=i(e,s,t)}if(s&&n){for(p in n){s=s.replace(p,r(n[p]))}}return s}function r(e){return t?t[e]||e:e}function i(e,t,n){for(pat in t){var r=/(\d+)\s*-\s*(\d+)/,i=r.exec(pat);if(i){var s=i[1];var o=i[2];if(n>=s&&n<=o){return t[pat]}}r=/([<>]=?)\s*(\d+)/;i=r.exec(pat);if(i){var u=i[1];var a=i[2];if(u===">"&&n>a){return t[pat]}else if(u===">="&&n>=a){return t[pat]}else if(u==="<"&&n<a){return t[pat]}else if(u==="<="&&n<=a){return t[pat]}}r=/\s*,\s*/;i=pat.split(r);if(i){for(var f=0;f<i.length;f++){if(n===~~i[f]){return t[pat]}}}}return e}this.getLocale=function(){return e};this.get=function(e,t){return n(e,1,t)};this._=this.get;this.nget=function(e,t,r,i){return r===1?n(e,1,i):n(t,r,i)};this.__=this.nget;}var e={};return{addResourceBundle:function(t,n,r){if(!e[t]){e[t]={}}e[t][n]=r},getResourceBundle:function(n,r){return new t(r,e[n]?e[n][r]:null)}}}();window.__JTA_I18N=true})();JTA_I18N.addResourceBundle("jTweetsAnywhere","en",{$$monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});(function(e){e.fn.jTweetsAnywhere=function(t){var n=e.extend({username:"tbillenstein",list:null,searchParams:null,count:0,tweetProfileImagePresent:null,tweetFilter:defaultTweetFilter,showTweetFeed:true,showFollowButton:false,showConnectButton:false,showLoginInfo:false,showTweetBox:false,locale:"en",tweetDataProvider:defaultTweetDataProvider,rateLimitDataProvider:defaultRateLimitDataProvider,mainDecorator:defaultMainDecorator,tweetFeedDecorator:defaultTweetFeedDecorator,tweetDecorator:defaultTweetDecorator,tweetProfileImageDecorator:defaultTweetProfileImageDecorator,tweetBodyDecorator:defaultTweetBodyDecorator,tweetUsernameDecorator:defaultTweetUsernameDecorator,tweetTextDecorator:defaultTweetTextDecorator,tweetAttributesDecorator:defaultTweetAttributesDecorator,tweetTwitterBirdDecorator:defaultTweetTwitterBirdDecorator,tweetTimestampDecorator:defaultTweetTimestampDecorator,tweetSourceDecorator:defaultTweetSourceDecorator,tweetGeoLocationDecorator:defaultTweetGeoLocationDecorator,tweetInReplyToDecorator:defaultTweetInReplyToDecorator,tweetRetweeterDecorator:defaultTweetRetweeterDecorator,tweetActionsDecorator:defaultTweetActionsDecorator,tweetActionReplyDecorator:defaultTweetActionReplyDecorator,tweetActionRetweetDecorator:defaultTweetActionRetweetDecorator,tweetActionFavoriteDecorator:defaultTweetActionFavoriteDecorator,tweetFeedControlsDecorator:defaultTweetFeedControlsDecorator,tweetFeedControlsMoreBtnDecorator:defaultTweetFeedControlsMoreBtnDecorator,tweetFeedControlsPrevBtnDecorator:defaultTweetFeedControlsPrevBtnDecorator,tweetFeedControlsNextBtnDecorator:defaultTweetFeedControlsNextBtnDecorator,tweetFeedAutorefreshTriggerDecorator:defaultTweetFeedAutorefreshTriggerDecorator,tweetFeedAutorefreshTriggerContentDecorator:defaultTweetFeedAutorefreshTriggerContentDecorator,connectButtonDecorator:defaultConnectButtonDecorator,loginInfoDecorator:defaultLoginInfoDecorator,loginInfoContentDecorator:defaultLoginInfoContentDecorator,followButtonDecorator:defaultFollowButtonDecorator,tweetBoxDecorator:defaultTweetBoxDecorator,linkDecorator:defaultLinkDecorator,usernameDecorator:defaultUsernameDecorator,hashtagDecorator:defaultHashtagDecorator,loadingDecorator:defaultLoadingDecorator,errorDecorator:defaultErrorDecorator,noDataDecorator:defaultNoDataDecorator,tweetTimestampFormatter:defaultTweetTimestampFormatter,tweetTimestampTooltipFormatter:defaultTweetTimestampTooltipFormatter,tweetVisualizer:defaultTweetVisualizer,loadingIndicatorVisualizer:defaultLoadingIndicatorVisualizer,autorefreshTriggerVisualizer:defaultAutorefreshTriggerVisualizer,onDataRequestHandler:defaultOnDataRequestHandler,onRateLimitDataHandler:defaultOnRateLimitDataHandler,onOptionsInitializingHandler:defaultOnOptionsInitializingHandler,_tweetFeedConfig:{autoConformToTwitterStyleguide:false,showTwitterBird:true,showTimestamp:{refreshInterval:0},showSource:false,showGeoLocation:true,showInReplyTo:true,showActionReply:false,showActionRetweet:false,showActionFavorite:false,showProfileImages:null,showUserScreenNames:null,showUserFullNames:false,expandHovercards:false,includeRetweets:true,paging:{mode:"none",_limit:0,_offset:0},autorefresh:{mode:"none",interval:60,duration:3600,max:-1,_startTime:null,_triggerElement:null},_pageParam:0,_maxId:null,_recLevel:0,_noData:false,_clearBeforePopulate:false},_tweetBoxConfig:{counter:true,width:515,height:65,label:null,defaultContent:"",onTweet:function(e,t){}},_connectButtonConfig:{size:"medium"},_baseSelector:null,_baseElement:null,_tweetFeedElement:null,_tweetFeedControlsElement:null,_followButtonElement:null,_loginInfoElement:null,_connectButtonElement:null,_tweetBoxElement:null,_loadingIndicatorElement:null,_noDataElement:null,_tweetsCache:[],_autorefreshTweetsCache:[],_stats:{dataRequestCount:0,rateLimitPreventionCount:0,rateLimit:{remaining_hits:150,hourly_limit:150}},_resourceBundle:null},t);n._baseSelector=this.selector;n.onOptionsInitializingHandler(n);setupOptions(n);if(!n.mainDecorator){return}e.ajaxSetup({cache:false});return this.each(function(){n._baseElement=e(this);n._tweetFeedElement=n.tweetFeedDecorator?e(n.tweetFeedDecorator(n)):null;n._tweetFeedControlsElement=n.tweetFeedControlsDecorator?e(n.tweetFeedControlsDecorator(n)):null;n._followButtonElement=n.followButtonDecorator?e(n.followButtonDecorator(n)):null;n._tweetBoxElement=n.tweetBoxDecorator?e(n.tweetBoxDecorator(n)):null;n._connectButtonElement=n.connectButtonDecorator?e(n.connectButtonDecorator(n)):null;n._loginInfoElement=n.loginInfoDecorator?e(n.loginInfoDecorator(n)):null;n.mainDecorator(n);populateTweetFeed(n);populateAnywhereControls(n);bindEventHandlers(n);setupAutorefresh(n)})};defaultMainDecorator=function(e){if(e._tweetFeedElement){e._baseElement.append(e._tweetFeedElement)}if(e._tweetFeedControlsElement){e._baseElement.append(e._tweetFeedControlsElement)}if(e._connectButtonElement){e._baseElement.append(e._connectButtonElement)}if(e._loginInfoElement){e._baseElement.append(e._loginInfoElement)}if(e._followButtonElement){e._baseElement.append(e._followButtonElement)}if(e._tweetBoxElement){e._baseElement.append(e._tweetBoxElement)}};defaultTweetFeedControlsDecorator=function(e){var t="";if(e._tweetFeedConfig.paging.mode=="prev-next"){if(e.tweetFeedControlsPrevBtnDecorator){t+=e.tweetFeedControlsPrevBtnDecorator(e)}if(e.tweetFeedControlsNextBtnDecorator){t+=e.tweetFeedControlsNextBtnDecorator(e)}}else if(e._tweetFeedConfig.paging.mode=="endless-scroll"){}else{if(e.tweetFeedControlsMoreBtnDecorator){t+=e.tweetFeedControlsMoreBtnDecorator(e)}}return'<div class="jta-tweet-list-controls">'+t+"</div>"};defaultTweetFeedControlsMoreBtnDecorator=function(e){return'<span class="jta-tweet-list-controls-button jta-tweet-list-controls-button-more">'+e._resourceBundle._("More")+"</span>"};defaultTweetFeedControlsPrevBtnDecorator=function(e){return'<span class="jta-tweet-list-controls-button jta-tweet-list-controls-button-prev">'+e._resourceBundle._("Prev")+"</span>"};defaultTweetFeedControlsNextBtnDecorator=function(e){return'<span class="jta-tweet-list-controls-button jta-tweet-list-controls-button-next">'+e._resourceBundle._("Next")+"</span>"};defaultTweetFeedAutorefreshTriggerDecorator=function(e,t){var n="";if(t.tweetFeedAutorefreshTriggerContentDecorator){n=t.tweetFeedAutorefreshTriggerContentDecorator(e,t)}return'<li class="jta-tweet-list-autorefresh-trigger">'+n+"</li>"};defaultTweetFeedAutorefreshTriggerContentDecorator=function(e,t){var n=t._resourceBundle.__("%count% new tweet","%count% new tweets",e,{"%count%":e});return'<span class="jta-tweet-list-autorefresh-trigger-content">'+n+"</span>"};defaultTweetFeedDecorator=function(e){return'<ul class="jta-tweet-list"></ul>'};defaultTweetDecorator=function(e,t){var n="";if(t._tweetFeedConfig.showProfileImages){n+=t.tweetProfileImageDecorator(e,t)}if(t.tweetBodyDecorator){n+=t.tweetBodyDecorator(e,t)}n+='<div class="jta-clear"> </div>';return'<li class="jta-tweet-list-item">'+n+"</li>"};defaultTweetProfileImageDecorator=function(e,t){var n=e.retweeted_status||e;var r=getScreenName(e);var i=n.user?n.user.profile_image_url:false||n.profile_image_url;var s='<a class="jta-tweet-profile-image-link" href="http://twitter.com/'+r+'" target="_blank">'+'<img src="'+i+'" alt="'+r+'"'+(isAnywherePresent()?"":' title="'+r+'"')+"/>"+"</a>";return'<div class="jta-tweet-profile-image">'+s+"</div>"};defaultTweetBodyDecorator=function(e,t){var n="";if(t.tweetTextDecorator){n+=t.tweetTextDecorator(e,t)}if(t.tweetAttributesDecorator){n+=t.tweetAttributesDecorator(e,t)}if(t.tweetActionsDecorator){n+=t.tweetActionsDecorator(e,t)}return'<div class="jta-tweet-body '+(t._tweetFeedConfig.showProfileImages?"jta-tweet-body-list-profile-image-present":"")+'">'+n+"</div>"};defaultTweetTextDecorator=function(e,t){var n=e.text;if(e.retweeted_status&&(t._tweetFeedConfig.showUserScreenNames||t._tweetFeedConfig.showUserScreenNames==null||t._tweetFeedConfig.showUserFullNames||t._tweetFeedConfig.showUserFullNames==null)){n=e.retweeted_status.text}if(t.linkDecorator){n=t.linkDecorator(n,t)}if(t.usernameDecorator){n=t.usernameDecorator(n,t)}if(t.hashtagDecorator){n=t.hashtagDecorator(n,t)}if(t._tweetFeedConfig.showUserScreenNames||t._tweetFeedConfig.showUserFullNames||e.retweeted_status&&(t._tweetFeedConfig.showUserScreenNames==null||t._tweetFeedConfig.showUserFullNames==null)){n=t.tweetUsernameDecorator(e,t)+" "+n}return'<span class="jta-tweet-text">'+n+"</span>"};defaultTweetUsernameDecorator=function(e,t){var n=getScreenName(e);var r=getFullName(e);var i=null;if(n&&(t._tweetFeedConfig.showUserScreenNames||t._tweetFeedConfig.showUserScreenNames==null&&e.retweeted_status)){i='<span class="jta-tweet-user-screen-name">'+'<a class="jta-tweet-user-screen-name-link" href="http://twitter.com/'+n+'" target="_blank">'+n+"</a>"+"</span>"}var s=null;if(r&&(t._tweetFeedConfig.showUserFullNames||t._tweetFeedConfig.showUserFullNames==null&&e.retweeted_status)){s='<span class="jta-tweet-user-full-name">'+(i?" ":"")+'<a class="jta-tweet-user-full-name-link" href="http://twitter.com/'+n+'" name="'+n+'" target="_blank">'+r+"</a>"+"</span>"}var o="";if(i){o+=i}if(s){if(i){o+=" "}o+=s}if(i||s){o='<span class="jta-tweet-user-name">'+(e.retweeted_status?"RT ":"")+o+"</span>"}return o};defaultTweetAttributesDecorator=function(e,t){var n="";if(t.tweetTwitterBirdDecorator||t.tweetTimestampDecorator||t.tweetSourceDecorator||t.tweetGeoLocationDecorator||t.tweetInReplyToDecorator||e.retweeted_status&&t.tweetRetweeterDecorator){n+='<span class="jta-tweet-attributes">';if(t.tweetTwitterBirdDecorator){n+=t.tweetTwitterBirdDecorator(e,t)}if(t.tweetTimestampDecorator){n+=t.tweetTimestampDecorator(e,t)}if(t.tweetSourceDecorator){n+=t.tweetSourceDecorator(e,t)}if(t.tweetGeoLocationDecorator){n+=t.tweetGeoLocationDecorator(e,t)}if(t.tweetInReplyToDecorator){n+=t.tweetInReplyToDecorator(e,t)}if(e.retweeted_status&&t.tweetRetweeterDecorator){n+=t.tweetRetweeterDecorator(e,t)}n+="</span>"}return n};defaultTweetTimestampDecorator=function(e,t){var n=e.retweeted_status||e;var r=formatDate(n.created_at);var i=t.tweetTimestampFormatter(r,t);var s=t.tweetTimestampTooltipFormatter(r);var o='<span class="jta-tweet-timestamp">'+'<a class="jta-tweet-timestamp-link" data-timestamp="'+r+'" href="http://twitter.com/'+getScreenName(e)+"/status/"+n.id+'" target="_blank" title="'+s+'">'+i+"</a>"+"</span>";return o};defaultTweetTwitterBirdDecorator=function(e,t){var n=getScreenName(e);var r="https://twitter.com/intent/user?screen_name="+n;var i=n+" "+t._resourceBundle._("on Twitter");var s='<span class="jta-tweet-twitter-bird">'+'<a href="'+r+'" target="_blank" title="'+i+'">'+'<span class="jta-tweet-twitter-bird-icon"> </span>'+"</a>"+"</span>";return s};defaultTweetTimestampTooltipFormatter=function(e){var t=new Date(e);return t.toLocaleString()};defaultTweetTimestampFormatter=function(e,t){var n=new Date;var r=parseInt((n.getTime()-Date.parse(e))/1e3);var i="";if(r<60){i+=t._resourceBundle.__("%secs% second ago","%secs% seconds ago",r,{"%secs%":r})}else if(r<3600){var s=parseInt((r+30)/60);i+=t._resourceBundle.__("%mins% minute ago","%mins% minutes ago",s,{"%mins%":s})}else if(r<86400){var s=parseInt((r+1800)/3600);i+=t._resourceBundle.__("%hours% hour ago","%hours% hours ago",s,{"%hours%":s})}else{var o=new Date(e);var u=t._resourceBundle._("$$monthNames");i+=u[o.getMonth()]+" "+o.getDate();if(o.getFullYear()<n.getFullYear()){i+=", "+o.getFullYear()}var s=parseInt((r+43200)/86400);i+=" ("+t._resourceBundle.__("%days% day ago","%days% days ago",s,{"%days%":s})+")"}return i};defaultTweetSourceDecorator=function(e,t){var n=e.retweeted_status||e;var r=n.source.replace(/\&lt\;/gi,"<").replace(/\&gt\;/gi,">").replace(/\&quot\;/gi,'"');var i='<span class="jta-tweet-source">'+" "+t._resourceBundle._("via")+" "+'<span class="jta-tweet-source-link">'+r+"</span>"+"</span>";return i};defaultTweetGeoLocationDecorator=function(e,t){var n="";var r=e.retweeted_status||e;var i=null;if(r.geo&&r.geo.coordinates){i=r.geo.coordinates.join()}else if(r.place&&r.place.full_name){i=r.place.full_name}if(i){var s=t._resourceBundle._("here");if(r.place&&r.place.full_name){s=r.place.full_name}var o="http://maps.google.com/maps?q="+i;n='<span class="jta-tweet-location">'+" "+t._resourceBundle._("from")+" "+'<a class="jta-tweet-location-link" href="'+o+'" target="_blank">'+s+"</a>"+"</span>"}return n};defaultTweetInReplyToDecorator=function(e,t){var n=e.retweeted_status||e;var r="";if(n.in_reply_to_status_id&&n.in_reply_to_screen_name){var i="http://twitter.com/"+n.in_reply_to_screen_name+"/status/"+n.in_reply_to_status_id;var s=t._resourceBundle._("in reply to")+" "+n.in_reply_to_screen_name;r='<span class="jta-tweet-inreplyto">'+" "+'<a class="jta-tweet-inreplyto-link" href="'+i+'" target="_blank">'+s+"</a>"+"</span>"}return r};defaultTweetRetweeterDecorator=function(e,t){var n="";if(e.retweeted_status){var r=getUserScreenName(e);var i=(e.retweeted_status.retweet_count||0)-1;var s='<a class="jta-tweet-retweeter-link" href="http://twitter.com/'+r+'" target="_blank">'+r+"</a>";var o=t._resourceBundle.__(" and %rtc% other"," and %rtc% others",i,{"%rtc%":i});n="<br/>"+'<span class="jta-tweet-retweeter">'+t._resourceBundle._("Retweeted by")+" "+s+(i>0?o:"")+"</span>"}return n};defaultTweetActionsDecorator=function(e,t){var n="";if(t.tweetActionReplyDecorator||t.tweetActionRetweetDecorator||t.tweetActionFavoriteDecorator){n+='<span class="jta-tweet-actions">';if(t.tweetActionReplyDecorator){n+=t.tweetActionReplyDecorator(e,t)}if(t.tweetActionRetweetDecorator){n+=t.tweetActionRetweetDecorator(e,t)}if(t.tweetActionFavoriteDecorator){n+=t.tweetActionFavoriteDecorator(e,t)}n+="</span>"}return n};defaultTweetActionReplyDecorator=function(e,t){var n="https://twitter.com/intent/tweet?in_reply_to="+e.id;var r=t._resourceBundle._("Reply");var i='<span class="jta-tweet-action-reply">'+'<a href="'+n+'">'+r+"</a>"+"</span>";return i};defaultTweetActionRetweetDecorator=function(e,t){var n="https://twitter.com/intent/retweet?tweet_id="+e.id;var r=t._resourceBundle._("Retweet");var i='<span class="jta-tweet-action-retweet">'+'<a href="'+n+'">'+r+"</a>"+"</span>";return i};defaultTweetActionFavoriteDecorator=function(e,t){var n="https://twitter.com/intent/favorite?tweet_id="+e.id;var r=t._resourceBundle._("Favorite");var i='<span class="jta-tweet-action-favorite">'+'<a href="'+n+'">'+r+"</a>"+"</span>";return i};defaultConnectButtonDecorator=function(e){return'<div class="jta-connect-button"></div>'};defaultLoginInfoDecorator=function(e){return'<div class="jta-login-info"></div>'};defaultLoginInfoContentDecorator=function(e,t){var n="";if(t.isConnected()){var r=t.currentUser.data("screen_name");var i=t.currentUser.data("profile_image_url");n='<div class="jta-login-info-profile-image">'+'<a href="http://twitter.com/'+r+'" target="_blank">'+'<img src="'+i+'" alt="'+r+'" title="'+r+'"/>'+"</a>"+"</div>"+'<div class="jta-login-info-block">'+'<div class="jta-login-info-screen-name">'+'<a href="http://twitter.com/'+r+'" target="_blank">'+r+"</a>"+"</div>"+'<div class="jta-login-info-sign-out">'+e._resourceBundle._("Sign out")+"</div>"+"</div>"+'<div class="jta-clear"> </div>'}return n};defaultFollowButtonDecorator=function(e){return'<div class="jta-follow-button"></div>'};defaultTweetBoxDecorator=function(e){return'<div class="jta-tweet-box"></div>'};defaultLinkDecorator=function(e,t){return e.replace(/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/gi,'<a href="$1" class="jta-tweet-a jta-tweet-link" target="_blank" rel="nofollow">$1</a>')};defaultUsernameDecorator=function(e,t){return isAnywherePresent()?e:e.replace(/\B@(\w+)/gi,'@<a href="http://twitter.com/$1" class="jta-tweet-a twitter-anywhere-user" target="_blank" rel="nofollow">$1</a>')};defaultHashtagDecorator=function(e,t){return e.replace(/#([a-zA-Z0-9_]+)/gi,'<a href="http://search.twitter.com/search?q=%23$1" class="jta-tweet-a jta-tweet-hashtag" title="#$1" target="_blank" rel="nofollow">#$1</a>')};defaultLoadingDecorator=function(e){return'<li class="jta-loading">'+e._resourceBundle._("loading")+" ...</li>"};defaultErrorDecorator=function(e,t){return'<li class="jta-error">'+t._resourceBundle._("ERROR")+": "+e+"</li>"};defaultNoDataDecorator=function(e){return'<li class="jta-nodata">'+e._resourceBundle._("No more data")+"</li>"};defaultTweetFilter=function(e,t){return true};defaultTweetVisualizer=function(e,t,n,r){e[n](t)};defaultLoadingIndicatorVisualizer=function(e,t,n,r){defaultVisualizer(e,t,"append","fadeIn",600,"fadeOut",200,r)};defaultAutorefreshTriggerVisualizer=function(e,t,n,r){defaultVisualizer(e,t,"prepend","slideDown",600,"fadeOut",200,r)};defaultVisualizer=function(e,t,n,r,i,s,o,u){var a=function(){if(u){u()}};if(e){t.hide();e[n](t);t[r](i,a)}else{t[s](o,function(){t.remove();a()})}};defaultOnDataRequestHandler=function(e,t){return true};defaultOnRateLimitDataHandler=function(e,t){};defaultOnOptionsInitializingHandler=function(e){};updateLoginInfoElement=function(t,n){if(t._loginInfoElement&&t.loginInfoContentDecorator){t._loginInfoElement.children().remove();t._loginInfoElement.append(t.loginInfoContentDecorator(t,n));e(t._baseSelector+" .jta-login-info-sign-out").bind("click",function(){twttr.anywhere.signOut()})}};getFeedUrl=function(e,t){var n="https:"==document.location.protocol?"https:":"http:";if(e.searchParams){n+="//search.twitter.com/search.json?"+(e.searchParams instanceof Array?e.searchParams.join("&"):e.searchParams)+"&rpp=100"}else if(e.list){if("favorites"==e.list){n+="//api.twitter.com/1/favorites/"+e.username+".json?count=20"}else{n+="//api.twitter.com/1/"+e.username+"/lists/"+e.list+"/statuses.json?per_page=20"}}else{n+="//api.twitter.com/1/statuses/user_timeline.json?screen_name="+e.username+"&count=20";if(e._tweetFeedConfig.includeRetweets)n+="&include_rts=true"}if(t){n+=(e._tweetFeedConfig._maxId?"&max_id="+e._tweetFeedConfig._maxId:"")+"&page="+e._tweetFeedConfig._pageParam}n+="&callback=?";return n};isAnywherePresent=function(){return typeof twttr!="undefined"&&typeof twttr.anywhere!="undefined"};clearTweetFeed=function(e){if(e._tweetFeedElement){e._tweetFeedElement.empty()}};setupOptions=function(t){t._resourceBundle=JTA_I18N.getResourceBundle("jTweetsAnywhere",t.locale);t._tweetBoxConfig.label=t._resourceBundle._("What's happening?");if(typeof t.username!="string"){if(!t.searchParams){t.searchParams=["q=from:"+t.username.join(" OR from:")]}t.username=t.username[0]}if(typeof t.showTweetFeed=="object"){e.extend(true,t._tweetFeedConfig,t.showTweetFeed)}if(typeof t.showTweetBox=="object"){e.extend(true,t._tweetBoxConfig,t.showTweetBox);t.showTweetBox=true}if(typeof t.showConnectButton=="object"){t._connectButtonConfig=t.showConnectButton;t.showConnectButton=true}if(t._tweetFeedConfig.showProfileImages==null){t._tweetFeedConfig.showProfileImages=t.tweetProfileImagePresent}if(t._tweetFeedConfig.showProfileImages==null){t._tweetFeedConfig.showProfileImages=(t.list||t.searchParams)&&t.tweetProfileImageDecorator}if(t._tweetFeedConfig.autoConformToTwitterStyleguide){t._tweetFeedConfig.showUserFullNames=null;t._tweetFeedConfig.showTwitterBird=true;t._tweetFeedConfig.showActionReply=true;t._tweetFeedConfig.showActionRetweet=true;t._tweetFeedConfig.showActionFavorite=true}if(t._tweetFeedConfig.showUserScreenNames==null){if(t.list||t.searchParams){t._tweetFeedConfig.showUserScreenNames=true}if(!t.tweetUsernameDecorator){t._tweetFeedConfig.showUserScreenNames=false}}if(t._tweetFeedConfig.showUserFullNames==null){if(t.list||t.searchParams){t._tweetFeedConfig.showUserFullNames=true}if(!t.tweetUsernameDecorator){t._tweetFeedConfig.showUserFullNames=false}}t.count=validateRange(t.count,0,t.searchParams?100:20);t._tweetFeedConfig.autorefresh.interval=Math.max(30,t._tweetFeedConfig.autorefresh.interval);if(t._tweetFeedConfig.autorefresh.max<=0){t._tweetFeedConfig.autorefresh.max=-1}t._tweetFeedConfig.paging._offset=0;t._tweetFeedConfig.paging._limit=t.count;if(t.count==0||!t.showTweetFeed){t.tweetFeedDecorator=null;t.tweetFeedControlsDecorator=null}if(t._tweetFeedConfig.paging.mode=="none"){t.tweetFeedControlsDecorator=null}if(!t.showFollowButton){t.followButtonDecorator=null}if(!t.showTweetBox){t.tweetBoxDecorator=null}if(!t.showConnectButton){t.connectButtonDecorator=null}if(!t.showLoginInfo){t.loginInfoDecorator=null}if(!t._tweetFeedConfig.showTwitterBird){t.tweetTwitterBirdDecorator=null}if(!t._tweetFeedConfig.showTimestamp){t.tweetTimestampDecorator=null}if(!t._tweetFeedConfig.showSource){t.tweetSourceDecorator=null}if(!t._tweetFeedConfig.showGeoLocation){t.tweetGeoLocationDecorator=null}if(!t._tweetFeedConfig.showInReplyTo){t.tweetInReplyToDecorator=null}if(!t._tweetFeedConfig.showActionReply){t.tweetActionReplyDecorator=null}if(!t._tweetFeedConfig.showActionRetweet){t.tweetActionRetweetDecorator=null}if(!t._tweetFeedConfig.showActionFavorite){t.tweetActionFavoriteDecorator=null}};setupAutorefresh=function(e){e._tweetFeedConfig.autorefresh._startTime=(new Date).getTime();startAutorefresh(e);startTimestampRefresh(e)};populateTweetFeed=function(t){if(t.tweetDecorator&&t._tweetFeedElement){getPagedTweets(t,function(t,n){if(n._tweetFeedConfig._clearBeforePopulate){clearTweetFeed(n)}hideLoadingIndicator(n,function(){e.each(t,function(t,r){n.tweetVisualizer(n._tweetFeedElement,e(n.tweetDecorator(r,n)),"append",n)});if(n._tweetFeedConfig._noData&&n.noDataDecorator&&!n._tweetFeedConfig._noDataElement){n._tweetFeedConfig._noDataElement=e(n.noDataDecorator(n));n._tweetFeedElement.append(n._tweetFeedConfig._noDataElement)}if(n._tweetFeedConfig._clearBeforePopulate){n._tweetFeedElement.scrollTop(0)}addHovercards(n)})})}};populateTweetFeed2=function(t){if(t._tweetFeedElement&&t._autorefreshTweetsCache.length>0){if(t._tweetFeedConfig.autorefresh.mode=="trigger-insert"){if(t._tweetFeedConfig.autorefresh._triggerElement){if(t.tweetFeedAutorefreshTriggerContentDecorator){t._tweetFeedConfig.autorefresh._triggerElement.html(t.tweetFeedAutorefreshTriggerContentDecorator(t._autorefreshTweetsCache.length,t))}}else{if(t.tweetFeedAutorefreshTriggerDecorator){t._tweetFeedConfig.autorefresh._triggerElement=e(t.tweetFeedAutorefreshTriggerDecorator(t._autorefreshTweetsCache.length,t));t._tweetFeedConfig.autorefresh._triggerElement.bind("click",function(){t.autorefreshTriggerVisualizer(null,t._tweetFeedConfig.autorefresh._triggerElement,t,function(){insertTriggerTweets(t)});t._tweetFeedConfig.autorefresh._triggerElement=null});t.autorefreshTriggerVisualizer(t._tweetFeedElement,t._tweetFeedConfig.autorefresh._triggerElement,t)}}}else{insertTriggerTweets(t)}}};insertTriggerTweets=function(t){if(t.tweetDecorator&&t._autorefreshTweetsCache.length>0){while(t._autorefreshTweetsCache.length>0){var n=t._autorefreshTweetsCache.pop();t._tweetsCache.unshift(n);t._tweetFeedConfig.paging._offset++;t.tweetVisualizer(t._tweetFeedElement,e(t.tweetDecorator(n,t)),"prepend",t)}addHovercards(t)}};addHovercards=function(e){if(isAnywherePresent()){twttr.anywhere(function(t){t(e._baseSelector+" .jta-tweet-list").hovercards({expanded:e._tweetFeedConfig.expandHovercards});t(e._baseSelector+" .jta-tweet-profile-image img").hovercards({expanded:e._tweetFeedConfig.expandHovercards,username:function(e){return e.alt}});t(e._baseSelector+" .jta-tweet-retweeter-link").hovercards({expanded:e._tweetFeedConfig.expandHovercards,username:function(e){return e.text}});t(e._baseSelector+" .jta-tweet-user-screen-name-link").hovercards({expanded:e._tweetFeedConfig.expandHovercards,username:function(e){return e.text}});t(e._baseSelector+" .jta-tweet-user-full-name-link").hovercards({expanded:e._tweetFeedConfig.expandHovercards,username:function(e){return e.name}})})}};populateAnywhereControls=function(t){if(isAnywherePresent()){twttr.anywhere(function(n){if(t.tweetBoxDecorator){n(t._baseSelector+" .jta-tweet-box").tweetBox(t._tweetBoxConfig)}if(t.followButtonDecorator){n(t._baseSelector+" .jta-follow-button").followButton(t.username)}if(t.connectButtonDecorator){var r=e.extend({authComplete:function(e){updateLoginInfoElement(t,n)},signOut:function(){updateLoginInfoElement(t,n)}},t._connectButtonConfig);n(t._baseSelector+" .jta-connect-button").connectButton(r);updateLoginInfoElement(t,n)}})}};bindEventHandlers=function(t){if(t.tweetFeedControlsDecorator){if(t._tweetFeedConfig.paging.mode=="prev-next"){e(t._baseSelector+" .jta-tweet-list-controls-button-prev").bind("click",function(){if(!isLoading(t)&&t._tweetFeedConfig.paging._offset>0){prevPage(t,true)}});e(t._baseSelector+" .jta-tweet-list-controls-button-next").bind("click",function(){if(!isLoading(t)){nextPage(t,true)}})}else if(t._tweetFeedConfig.paging.mode=="endless-scroll"){t._tweetFeedElement.bind("scroll",function(){if(!isLoading(t)&&e(this)[0].scrollHeight-e(this).scrollTop()==e(this).outerHeight()){nextPage(t,false)}})}else{e(t._baseSelector+" .jta-tweet-list-controls-button-more").bind("click",function(){if(!isLoading(t)){nextPage(t,false)}})}}};nextPage=function(e,t){doPage(e,t,Math.min(e._tweetFeedConfig.paging._offset+e._tweetFeedConfig.paging._limit,e._tweetsCache.length))};prevPage=function(e,t){doPage(e,t,Math.max(0,e._tweetFeedConfig.paging._offset-e._tweetFeedConfig.paging._limit))};doPage=function(e,t,n){e._tweetFeedConfig.paging._offset=n;e._tweetFeedConfig._clearBeforePopulate=t;populateTweetFeed(e)};startAutorefresh=function(e){if(e._tweetFeedConfig.autorefresh.mode!="none"&&e._tweetFeedConfig.paging.mode!="prev-next"&&e._tweetFeedConfig.autorefresh.duration!=0&&(e._tweetFeedConfig.autorefresh.duration<0||(new Date).getTime()-e._tweetFeedConfig.autorefresh._startTime<=e._tweetFeedConfig.autorefresh.duration*1e3)){window.setTimeout(function(){processAutorefresh(e)},e._tweetFeedConfig.autorefresh.interval*1e3)}};stopAutorefresh=function(e){e._tweetFeedConfig.autorefresh.duration=0};processAutorefresh=function(t){if(t._tweetFeedConfig.autorefresh.duration!=0){getRateLimitedData(t,true,getFeedUrl(t,false),function(t,n){var r=(t.results||t).slice(0);r.reverse();e.each(r,function(e,t){if(t.id_str){t.id=t.id_str}if(t.in_reply_to_status_id_str){t.in_reply_to_status_id=t.in_reply_to_status_id_str}if(!isTweetInAutorefreshCache(t,n)&&!isTweetInCache(t,n)){if(n.tweetFilter(t,n)){n._autorefreshTweetsCache.unshift(t);if(n._tweetFeedConfig.autorefresh.max>0){while(n._autorefreshTweetsCache.length>n._tweetFeedConfig.autorefresh.max){n._autorefreshTweetsCache.pop()}}}}});populateTweetFeed2(n)});startAutorefresh(t)}};startTimestampRefresh=function(e){if(e.tweetTimestampDecorator&&typeof e._tweetFeedConfig.showTimestamp=="object"&&e._tweetFeedConfig.showTimestamp.refreshInterval>0){window.setTimeout(function(){processTimestampRefresh(e)},e._tweetFeedConfig.showTimestamp.refreshInterval*1e3)}};processTimestampRefresh=function(t){e.each(t._tweetFeedElement.find(".jta-tweet-timestamp-link"),function(n,r){var i=e(r).attr("data-timestamp");e(r).html(t.tweetTimestampFormatter(i,t))});startTimestampRefresh(t)};isTweetInCache=function(e,t){var n=t._tweetsCache.length;for(var r=0;r<n;r++){if(e.id==t._tweetsCache[r].id){return true}}return false};isTweetInAutorefreshCache=function(e,t){var n=t._autorefreshTweetsCache.length;for(var r=0;r<n;r++){if(e.id==t._autorefreshTweetsCache[r].id){return true}}return false};showLoadingIndicator=function(t){if(t._tweetFeedElement&&t.loadingDecorator&&!t._loadingIndicatorElement){t._loadingIndicatorElement=e(t.loadingDecorator(t));t.loadingIndicatorVisualizer(t._tweetFeedElement,t._loadingIndicatorElement,t,null);t._tweetFeedElement.scrollTop(1e6)}};hideLoadingIndicator=function(e,t){if(e._loadingIndicatorElement){e.loadingIndicatorVisualizer(null,e._loadingIndicatorElement,e,t);e._loadingIndicatorElement=null}else{if(t){t()}}};isLoading=function(e){return e._loadingIndicatorElement!=null};formatDate=function(e){return e.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3")};getUserScreenName=function(e){var t=e.user?e.user.screen_name:false||e.from_user;return t};getScreenName=function(e){var t=e.retweeted_status||e;var n=t.user?t.user.screen_name:false||t.from_user;return n};getFullName=function(e){var t=e.retweeted_status||e;var n=t.user?t.user.name:undefined;return n};validateRange=function(e,t,n){if(e<t)e=t;if(e>n)e=n;return e};showError=function(e,t){if(e.errorDecorator&&e._tweetFeedElement){e._tweetFeedElement.append(e.errorDecorator(t,e))}};getPagedTweets=function(e,t){e._tweetFeedConfig._recLevel=0;getRecPagedTweets(e,e._tweetFeedConfig.paging._offset,e._tweetFeedConfig.paging._limit,t)};getRecPagedTweets=function(t,n,r,i){++t._tweetFeedConfig._recLevel;if(n+r<=t._tweetsCache.length||t._tweetFeedConfig._recLevel>3||t._tweetFeedConfig._noData){if(n+r>t._tweetsCache.length){r=Math.max(0,t._tweetsCache.length-n)}var s=[];for(var o=0;o<r;o++){s[o]=t._tweetsCache[n+o]}i(s,t)}else{++t._tweetFeedConfig._pageParam;getRateLimitedData(t,false,getFeedUrl(t,true),function(t,s){var o=t.results||t;if(o.length==0){s._tweetFeedConfig._noData=true}else{e.each(o,function(e,t){if(t.id_str){t.id=t.id_str}if(t.in_reply_to_status_id_str){t.in_reply_to_status_id=t.in_reply_to_status_id_str}if(!s._tweetFeedConfig._maxId){s._tweetFeedConfig._maxId=t.id}if(s.tweetFilter(t,s)){s._tweetsCache.push(t)}})}getRecPagedTweets(s,n,r,i)})}};getRateLimitedData=function(e,t,n,r){getRateLimit(e,function(i){if(i&&i.remaining_hits<=0){e._stats.rateLimitPreventionCount++;hideLoadingIndicator(e,null);return}getData(e,t,n,r)})};getData=function(e,t,n,r){e._stats.dataRequestCount++;if(!e.onDataRequestHandler(e._stats,e)){hideLoadingIndicator(e,null);return}if(!t){showLoadingIndicator(e)}e.tweetDataProvider(n,function(t){if(t.error){showError(e,t.error)}else{r(t,e)}})};getRateLimit=function(e,t){e.rateLimitDataProvider(function(n){e._stats.rateLimit=n;e.onRateLimitDataHandler(e._stats,e);t(n)})};defaultTweetDataProvider=function(e,t){chrome_getJSON(e,t)};defaultRateLimitDataProvider=function(e){chrome_getJSON("https://api.twitter.com/1/account/rate_limit_status.json?callback=?",e)}})(jQuery)